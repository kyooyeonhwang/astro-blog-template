---
const pages = {
	home: {
		url: '/',
		title: 'Home'
	},
	about: {
		url: '/about',
		title: 'About'
	},
	blog: {
		url: '/blog/all',
		title: 'Blog'
	},
	tags: {
		url: '/tags',
		title: 'Tags'
	}
};

const url = new URL(Astro.request.url);
// const requestPathname = Astro.request.url.pathname;
// const requestPathname = Astro.resolve();
// console.log(requestPathname)

---
<script>
  // const requestPathname = new URL(Astro.request.url);
  // console.log(requestPathname)
</script>
  <a class="skip-link wrapper" href="#main-content">Skip to content</a>
  <header role="banner" class="wrapper flex-container">
    <a href="/" class="site-head-brand">
      <img loading="eager" src="/code.svg" alt="Astromnl logo." height="80" width="80">
    </a>

    <nav class="site-navigation" aria-label="Primary">
      <ul class="nav-list">
        {Object.values(pages).map(entry => {
          const className = url.pathname === entry.url && 'active';
          return (
            <li>
              <a class={className} href={entry.url}>{entry.title}</a>
            </li>
          )
        })}
      </ul>
    </nav>
  </header>
